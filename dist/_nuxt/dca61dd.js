(window.webpackJsonp=window.webpackJsonp||[]).push([[35,17,21],{407:function(t,e,r){var content=r(413);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("4a796fc0",content,!0,{sourceMap:!1})},412:function(t,e,r){"use strict";r(407)},413:function(t,e,r){var n=r(52)(!1);n.push([t.i,'@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}body{background:#fafafa}.music-card{animation:slideInFromLeft .5s ease-out 0s 1;margin:1.5%;border-radius:6px;box-shadow:0 0 10px rgba(0,0,0,.4);overflow:hidden;position:relative;width:200px;height:300px;cursor:pointer;pointer-events:all}.music-card:hover{transition:.3s;opacity:.6}.music-card>.image img{z-index:1;opacity:1;height:300px;width:300px}.col-8,.image,.info,.music-card>.info,.nombre,.v-chip,.v-chip__content{pointer-events:none}.music-card>.image:after{height:100px;content:"";top:100px;position:absolute;width:100%;z-index:1}.waves>.wave{position:absolute;height:530px;width:530px;opacity:.3;left:0;top:0;margin-left:-70%;margin-top:-130%;border-radius:40%;background:radial-gradient(#b01de8,#f34235);animation:spin 6s linear infinite}.waves>.wave:nth-child(2){top:10px;animation:spin 12s linear infinite}.waves>.wave:nth-child(3){top:10px;animation:spin 17s linear infinite}.music-card>.info{position:absolute;bottom:25px;left:0;right:0;text-align:center}.music-card>.info>.title{font-size:1.3em;font-weight:400;font-family:"Playfair display";color:#333;margin-bottom:8px}.music-card>.info>.artist{font-family:"Source sans pro";color:#cfcfcf;font-size:.8em;letter-spacing:.08em;text-transform:uppercase}@keyframes slideInFromLeft{0%{transform:translateX(-20%);opacity:.3}to{transform:translateX(0);opacity:1}}@media screen and (max-width:799px){.music-card{margin-left:10px auto;border-radius:6px;box-shadow:0 0 10px rgba(0,0,0,.4);overflow:hidden;position:relative;width:200px;height:300px}}',""]),t.exports=n},415:function(t,e,r){"use strict";r.r(e);var n,o=r(441),c=r(34),l=(r(103),r(200),r(13),r(1),r(3),r(102)),d=r.n(l),m={name:"instrumental",props:{instrumental:Object,index:Number},data:function(){return{}},mounted:function(){console.log(this.instrumental)},methods:{varlidar:function(){return null!=this.$cookiz.get("usuario")},comprar:(n=Object(c.a)(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.varlidar()){t.next=15;break}return this.$cookiz.get("usuario"),t.prev=2,t.next=5,d.a.get("http://localhost:3000/instrumental/buy/".concat(this.instrumental.id),{headers:{"access-token":this.$cookiz.get("usuario").token}});case 5:e=t.sent,console.log(e.status),200==e.status?(console.log(e.data.body.sandbox_init_point),window.open(e.data.sandbox_init_point).onbeforeunload=function(t){d.a.get("http://localhost:3000/compras/carga?external_reference=".concat(external_reference),{headers:{"access-token":r.$cookiz.get("usuario").token}}).then((function(t){200==t.status&&r.$router.push("/perfil/compras")})).catch((function(t){console.log(t)}))}):console.log("error cargando el mensaje"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:t.next=16;break;case 15:this.$router.push("/login");case 16:case"end":return t.stop()}}),t,this,[[2,10]])}))),function(){return n.apply(this,arguments)}),like:function(){var t=this;this.varlidar?d.a.post("".concat(this.$axios.defaults.baseURL,"instrumental/like/").concat(this.instrumental.id),{},{headers:{"access-token":this.$cookiz.get("usuario").token}}).then((function(e){(e.status=200)&&(null==t.instrumental.likes||t.instrumental.likes++)})):this.$router.push("/login")},reproducir:function(t){this.$emit("reproducir",this.index);var audio=document.getElementsByTagName("audio")[0],e=document.getElementsByClassName("music-card");audio.onplay=function(){t.target.classList.add("waves")},audio.onpause=function(){t.target.classList.remove("waves")};var r;r=this,e.forEach((function(t){t.__vue__!=r&&t.classList.remove("waves")}))}}},f=m,h=(r(412),r(54)),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"music-card",attrs:{tabindex:"1"},on:{click:function(e){return t.reproducir(e)}}},[e("div",{staticClass:"image"},[null!=t.instrumental.tieneMiniatura?e("img",{attrs:{src:t.instrumental.tieneMiniatura.url,onerror:"this.src='https://cdn.pixabay.com/photo/2017/01/25/17/35/picture-2008484_960_720.png'",alt:""}}):e("img",{attrs:{src:"/img.png",alt:""}})]),t._v(" "),e("div",{staticClass:"wave"}),t._v(" "),e("div",{staticClass:"wave"}),t._v(" "),e("div",{staticClass:"wave"}),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"row pointer-events-none"},[e("div",{staticClass:"col-8"},[e("p",{staticClass:"nombre"},[t._v(t._s(t.instrumental.nombre))])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[t.instrumental.Escala?e(o.a,{staticStyle:{"background-color":"var(--color7)",color:"white"}},[t._v("\n              "+t._s(t.instrumental.Escala?t.instrumental.Escala.escala:"")+"\n            ")]):t._e(),t._v(" "),e(o.a,{staticStyle:{"background-color":"var(--color7)",color:"white"}},[t._v("\n            "+t._s(t.instrumental.Bpm?t.instrumental.Bpm.bpm:t.instrumental.bpm)+" Bpm\n            ")])],1)])])])}),[],!1,null,null,null);e.default=component.exports},418:function(t,e,r){var content=r(447);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("2dfabed6",content,!0,{sourceMap:!1})},446:function(t,e,r){"use strict";r(418)},447:function(t,e,r){var n=r(52)(!1);n.push([t.i,".reproductor{position:fixed;display:flex;flex-direction:row;align-items:center;justify-content:space-between;flex-wrap:wrap;z-index:1;bottom:0;left:0;width:100%;min-height:100px;background-color:var(--color4);border-radius:20px 20px 0 0}.informacion{display:flex;justify-content:space-around;width:300px;font-size:18px}.audio{width:50%;min-width:320px}.control{width:300px}.informacion img{height:90px;border-radius:10px}.plyr__controls{background-color:var(--color4)!important;color:var(--color1)!important}.plyr__controls input[type=range]{color:var(--color2)!important}.plyr__control:hover,.plyr__control[aria-expanded=true]{background-color:var(--color6)!important}.plyr__menu__container div{background-color:var(--color4)!important}.plyr__menu__container div,.plyr__menu__container span{color:var(--color1)!important}@media (max-width:768px){.reproductor{justify-content:center;flex-direction:column}.reproductor div{width:90%}}",""]),t.exports=n},492:function(t,e,r){"use strict";r.r(e);var n,o=r(34),c=r(0),l=(r(103),r(1),r(55),r(58),r(4),r(70),r(13),r(102)),d=r.n(l),m={name:"reproductor",components:Object(c.a)({},"VuePlyr",(function(){return r.e(4).then(r.bind(null,583))})),data:function(){return{id:null,img:null,sourse:"",title:null,description:null,precio:null,categoria:null,bpm:null,escala:null,vendedor:null,like:null,style:"bottom: -100px"}},methods:{play:function(t,e,img,title,r,n,c,l,d,m,f){var h=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:h.id=t,h.sourse=e,h.img=img,h.title=title,h.description=r,h.precio=n,h.categoria=c,h.bpm=l,h.escala=d,h.vendedor=m,h.like=f,document.querySelector("audio").load(),h.style="bottom:0px";case 14:case"end":return o.stop()}}),o)})))()},varlidar:function(){return null!=this.$cookiz.get("usuario")},comprar:(n=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.varlidar()?(this.$cookiz.get("usuario"),this.$router.push("/compra/".concat(this.id))):this.$router.push("/login");case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)}),mg:function(){var t=this;this.varlidar?d.a.post("".concat(this.$axios.defaults.baseURL,"instrumental/like/").concat(this.instrumental.id),{},{headers:{"access-token":this.$cookiz.get("usuario").token}}).then((function(e){(e.status=200)&&(null==t.instrumental.like||t.instrumental.like++)})):this.$router.push("/login")}}},f=m,h=(r(446),r(54)),component=Object(h.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"reproductor",style:t.style,attrs:{id:"reproductor"}},[e("div",{staticClass:"informacion"},[null!=t.img?e("img",{attrs:{src:t.img,alt:""}}):t._e(),t._v(" "),e("div",[null!=t.vendedor?e("i",[t._v(t._s(t.vendedor.nombre))]):t._e()])]),t._v(" "),e("div",{staticClass:"audio"},[e("vue-plyr",[e("audio",{attrs:{src:t.sourse,controls:"",nodownload:"",autoplay:"",buffered:""}})])],1),t._v(" "),e("div",{staticClass:"control"},[e("b-button",{staticClass:"boton",on:{click:t.comprar}},[e("span",{staticClass:"material-symbols-outlined"},[t._v("\n        shopping_bag\n      ")])]),t._v(" "),e("b-button",{staticClass:"boton"},[e("span",{staticClass:"material-icons",staticStyle:{size:"10pt"}},[t._v("thumb_up")]),e("b-badge",{attrs:{variant:"light"}},[t._v(t._s(t.like))])],1)],1)])}),[],!1,null,null,null);e.default=component.exports},514:function(t,e,r){var content=r(572);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(53).default)("3e97a148",content,!0,{sourceMap:!1})},571:function(t,e,r){"use strict";r(514)},572:function(t,e,r){var n=r(52)(!1);n.push([t.i,".contenedor-compra{display:flex;justify-content:center;align-items:center;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;margin:50px auto;padding:50px;background-color:hsla(0,0%,100%,.25);box-shadow:0 2px 20px 0 rgba(64,5,155,.37);backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px);border-radius:10px;border:1px solid hsla(0,0%,100%,.18)}.instrumental-compra{width:205px}.instrumental-compra>.music-card{pointer-events:none}.reproductor-compra{width:350px;height:128px;display:inline-block}.reproductor-compra>.reproductor{background-color:hsla(0,0%,100%,0)}.reproductor-compra>.reproductor>.control{display:none}.reproductor-compra>.reproductor>.audio>.plyr>.plyr__controls{background-color:hsla(0,0%,100%,0)!important}.reproductor-compra>.reproductor>.audio{margin-left:4%}.contenedor-licencia{display:inline-grid;background-color:hsla(0,0%,100%,0);color:#fff}.contenedor-licencia>.v-card{border:none}.licencia{background-color:#40059b;pointer-events:all;color:#fff}.v-chip--active{background-color:#7c38e3}.boton-finalizar{position:relative;left:45%;margin-bottom:50px}.reproductor-compra>.reproductor>.audio>.plyr{border-radius:10px;background-color:hsla(0,0%,100%,.25)!important}.radio{display:none}.radio:checked+.licenciacard{box-shadow:0 0 1px 1px var(--color8)!important}@media (max-width:750px){.contenedor-compra{flex-direction:column;width:100%;justify-content:center;align-items:center}.reproductor-compra>.reproductor>.audio>.plyr{background-color:hsla(0,0%,100%,0)!important}.reproductor-compra>.reproductor>.audio{border-radius:10px;background-color:hsla(0,0%,100%,.25)!important;margin:0 auto}.reproductor-compra{width:300px;height:128px;display:inline-block}.boton-finalizar{left:40%}}",""]),t.exports=n},601:function(t,e,r){"use strict";r.r(e);var n,o=r(531),c=r(505),l=r(441),d=r(34),m=(r(103),r(102)),f=r.n(m),h=r(415),v=r(492),x={name:"compra",components:{Instrumental:h.default,reproductor:v.default},middleware:"login",data:function(){return{instrumental:null,licencias:null,selection:1,licenciaSelected:null,licenciaSelectedObject:null}},mounted:function(){this.load()},methods:{varlidar:function(){return null!=this.$cookiz.get("usuario")},load:function(){var t=this;f.a.get("http://localhost:3000/instrumental/".concat(this.$route.params.id)).then((function(e){200==e.status&&(t.instrumental=e.data.instrumental,t.licencias=e.data.licencia,t.$refs.reproductor.play(t.instrumental.id,t.instrumental.tieneMp3.url,null,t.instrumental.nombre,t.instrumental.descripcion,t.instrumental.precio,t.instrumental.Categoria?t.instrumental.Categoria.categoria:null,t.instrumental.bpm?t.instrumental.bpm:null,t.instrumental.Escala?t.instrumental.Escala.escala:null,t.instrumental.Vendedor,t.instrumental.likes))})).catch((function(t){console.log(t)}))},selectLicencia:function(i){console.log(this.$refs.licencia[i])},finalizar:(n=Object(d.a)(regeneratorRuntime.mark((function t(){var e,data,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.varlidar()){t.next=13;break}return t.prev=1,t.next=4,f.a.post("http://localhost:3000/instrumental/buy/".concat(this.instrumental.id),{idlicencia:this.licenciaSelected},{headers:{"access-token":this.$cookiz.get("usuario").token,"Content-Type":"application/json"}});case 4:200==(e=t.sent).status?(data=e.data,0==!licencia.isfree?this.$router.push("/perfil/compras"):window.open(data.data.sandbox_init_point).onbeforeunload=function(t){console.log(t),f.a.get("http://localhost:3000/compras/carga?external_reference=".concat(external_reference),{headers:{"access-token":r.$cookiz.get("usuario").token}}).then((function(t){200==t.status&&r.$router.push("/perfil/compras")})).catch((function(t){console.log(t)}))}):console.log("error cargando el mensaje"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:t.next=14;break;case 13:this.$router.push("/login");case 14:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return n.apply(this,arguments)})}},_=x,k=(r(571),r(54)),component=Object(k.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticStyle:{margin:"0 30px"}},[t._v("Finalizar compra")]),t._v(" "),e("div",{staticClass:"contenedor-compra"},[t.instrumental?e("div",{staticClass:"instrumental-compra"},[e("Instrumental",{attrs:{instrumental:t.instrumental}})],1):t._e(),t._v(" "),e("div",{staticClass:"reproductor-compra"},[e("reproductor",{ref:"reproductor",staticStyle:{position:"relative"}})],1),t._v(" "),e("div",{staticClass:"contenedor-licencia"},[e(c.b,{staticStyle:{color:"#fff"}},[t._v("Elige tu licencia")]),t._v(" "),t._l(t.licencias,(function(r,i){return e("label",{key:i,attrs:{index:i,for:"licencia-"+i}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.licenciaSelected,expression:"licenciaSelected"}],staticClass:"radio",attrs:{type:"radio",id:"licencia-"+i},domProps:{value:r.id,checked:t._q(t.licenciaSelected,r.id)},on:{change:function(e){t.licenciaSelected=r.id}}}),t._v(" "),e(o.a,{staticClass:"licenciacard",attrs:{color:"rgba(32,33,53,0.4)"}},[e(c.a,[0==r.isfree?e(l.a,{staticStyle:{"background-color":"var(--color8)",color:"white"}},[e("span",{staticClass:"material-symbols-outlined"},[t._v("\n              attach_money\n              ")]),t._v("\n              "+t._s(r.precio)+"\n          ")]):e(l.a,{staticStyle:{"background-color":"var(--color8)",color:"white"},attrs:{title:"Licencia Gratis"}},[e("span",{staticClass:"material-symbols-outlined"},[t._v("\n              redeem\n            ")]),t._v("\n            Free\n          ")]),t._v(" "),t._l(r.tieneAmbitos,(function(r,n){return e(l.a,{key:n,staticStyle:{"background-color":"var(--color2)"}},[t._v("\n              Ambitos: "+t._s(r.nombre)+"\n            ")])}))],2)],1)],1)}))],2)]),t._v(" "),e("b-button",{staticClass:"boton-finalizar",on:{click:t.finalizar}},[t._v("Finalizar")])],1)}),[],!1,null,null,null);e.default=component.exports}}]);